{"ast":null,"code":"import _asyncToGenerator from \"D:/self made projects/project-financial-sentiment-analysis-1/sentiment-analysis/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction NetSocialComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelement(1, \"div\", 22);\n    i0.ɵɵelementStart(2, \"div\", 23);\n    i0.ɵɵelement(3, \"div\", 24);\n    i0.ɵɵelementStart(4, \"div\", 25);\n    i0.ɵɵtext(5, \"Analyzing markets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 26);\n    i0.ɵɵtext(7, \"Crunching signals and sentiment streams...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction NetSocialComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"span\");\n    i0.ɵɵtext(2, \"Current coverage: US equities (NYSE/Nasdaq)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"International exchanges coming soon\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"News + price signals for supported tickers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8, \"More asset classes planned\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NetSocialComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \"Hover to show full description\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\")(2, \"h2\");\n    i0.ɵɵtext(3, \"Sentiment Analysis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Run the notebook-inspired sentiment model for selected tickers.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 30)(7, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NetSocialComponent_div_16_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.downloadAnalysisPdf());\n    });\n    i0.ɵɵtext(8, \" Download PDF \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.sentimentData);\n  }\n}\nfunction NetSocialComponent_div_18_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \"Searching...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_div_18_div_5_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 43);\n    i0.ɵɵlistener(\"mousedown\", function NetSocialComponent_div_18_div_5_button_2_Template_button_mousedown_0_listener() {\n      const item_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onSelectTickerSuggestion(item_r5));\n    });\n    i0.ɵɵelementStart(1, \"span\", 44);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 45);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 46);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.symbol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.description || item_r5.exchange);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.exchange);\n  }\n}\nfunction NetSocialComponent_div_18_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" No matches \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_div_18_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtemplate(1, NetSocialComponent_div_18_div_5_div_1_Template, 2, 0, \"div\", 39)(2, NetSocialComponent_div_18_div_5_button_2_Template, 7, 3, \"button\", 40)(3, NetSocialComponent_div_18_div_5_div_3_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.tickerSearchLoading);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.tickerSuggestions);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.tickerSearchLoading && !ctx_r1.tickerSuggestions.length);\n  }\n}\nfunction NetSocialComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"label\", 33);\n    i0.ɵɵtext(2, \" Ticker \");\n    i0.ɵɵelementStart(3, \"div\", 34)(4, \"input\", 35);\n    i0.ɵɵlistener(\"ngModelChange\", function NetSocialComponent_div_18_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSentimentTickerChange($event));\n    })(\"focus\", function NetSocialComponent_div_18_Template_input_focus_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onTickerInputFocus());\n    })(\"blur\", function NetSocialComponent_div_18_Template_input_blur_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onTickerInputBlur());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, NetSocialComponent_div_18_div_5_Template, 4, 3, \"div\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NetSocialComponent_div_18_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.analyzeSentiment());\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.sentimentTicker);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.tickerDropdownOpen && (ctx_r1.tickerSuggestions.length || ctx_r1.tickerSearchLoading));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.sentimentLoading || !ctx_r1.sentimentTicker);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.sentimentLoading ? \"Analyzing...\" : \"Analyze\", \" \");\n  }\n}\nfunction NetSocialComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.sentimentError);\n  }\n}\nfunction NetSocialComponent_div_20_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Current price: $\", i0.ɵɵpipeBind2(2, 1, ctx_r1.sentimentData.current_price, \"1.2-2\"), \" \");\n  }\n}\nfunction NetSocialComponent_div_20__svg_svg_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 72);\n    i0.ɵɵelement(1, \"path\", 73);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"d\", ctx_r1.priceSeriesPath);\n  }\n}\nfunction NetSocialComponent_div_20_ng_template_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtext(1, \"No price data available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_div_20__svg_svg_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 72);\n    i0.ɵɵelement(1, \"path\", 73);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"d\", ctx_r1.sentimentSeriesPath);\n  }\n}\nfunction NetSocialComponent_div_20_ng_template_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtext(1, \"No sentiment history available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_div_20_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\", 76)(2, \"span\");\n    i0.ɵɵtext(3, \"Positive\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 77);\n    i0.ɵɵelement(5, \"div\", 78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 76)(9, \"span\");\n    i0.ɵɵtext(10, \"Neutral\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 77);\n    i0.ɵɵelement(12, \"div\", 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 76)(16, \"span\");\n    i0.ɵɵtext(17, \"Negative\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 77);\n    i0.ɵɵelement(19, \"div\", 80);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleProp(\"width\", ctx_r1.sentimentData.distribution.positive / ctx_r1.sentimentDistributionTotal * 100, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.sentimentData.distribution.positive);\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleProp(\"width\", ctx_r1.sentimentData.distribution.neutral / ctx_r1.sentimentDistributionTotal * 100, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.sentimentData.distribution.neutral);\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleProp(\"width\", ctx_r1.sentimentData.distribution.negative / ctx_r1.sentimentDistributionTotal * 100, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.sentimentData.distribution.negative);\n  }\n}\nfunction NetSocialComponent_div_20_ng_template_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtext(1, \"No sentiment distribution available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_div_20_article_56_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r6.summary);\n  }\n}\nfunction NetSocialComponent_div_20_article_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"article\", 81)(1, \"div\")(2, \"div\", 82);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 83);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, NetSocialComponent_div_20_article_56_div_7_Template, 2, 1, \"div\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 85);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 86);\n    i0.ɵɵtext(12, \"Open\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r6.headline);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", item_r6.source || \"Finnhub\", \" | \", i0.ɵɵpipeBind2(6, 11, item_r6.datetime * 1000, \"short\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r6.summary);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"positive\", item_r6.sentiment_label === \"Positive\")(\"negative\", item_r6.sentiment_label === \"Negative\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", item_r6.sentiment_label, \" \", i0.ɵɵpipeBind2(10, 14, item_r6.sentiment_score, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"href\", item_r6.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction NetSocialComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"div\", 50)(2, \"div\", 51);\n    i0.ɵɵtext(3, \"Signal Gauge\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 52);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 53);\n    i0.ɵɵelement(6, \"path\", 54)(7, \"path\", 55)(8, \"path\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(9, \"div\", 57);\n    i0.ɵɵelement(10, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"div\", 58);\n    i0.ɵɵelementStart(12, \"div\", 59);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 60)(15, \"span\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"div\", 61)(20, \"div\", 51);\n    i0.ɵɵtext(21, \"Overall\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 62)(23, \"span\", 63);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 64);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 65)(28, \"span\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"span\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(33, NetSocialComponent_div_20_div_33_Template, 3, 4, \"div\", 66);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 61)(35, \"div\", 51);\n    i0.ɵɵtext(36, \"Price Trend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(37, NetSocialComponent_div_20__svg_svg_37_Template, 2, 1, \"svg\", 67)(38, NetSocialComponent_div_20_ng_template_38_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 61)(41, \"div\", 51);\n    i0.ɵɵtext(42, \"Sentiment Trend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, NetSocialComponent_div_20__svg_svg_43_Template, 2, 1, \"svg\", 67)(44, NetSocialComponent_div_20_ng_template_44_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 61)(47, \"div\", 51);\n    i0.ɵɵtext(48, \"Distribution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(49, NetSocialComponent_div_20_div_49_Template, 22, 9, \"div\", 68)(50, NetSocialComponent_div_20_ng_template_50_Template, 2, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 69)(53, \"div\", 51);\n    i0.ɵɵtext(54, \"Recent News\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"div\", 70);\n    i0.ɵɵtemplate(56, NetSocialComponent_div_20_article_56_Template, 13, 17, \"article\", 71);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const noPrice_r7 = i0.ɵɵreference(39);\n    const noTrend_r8 = i0.ɵɵreference(45);\n    const noDist_r9 = i0.ɵɵreference(51);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleProp(\"transform\", \"translateX(-50%) rotate(\" + ctx_r1.gaugeAngle + \"deg)\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.gaugeLabel);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Score \", ctx_r1.sentimentScoreDisplay);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Sources \", ctx_r1.sentimentData.sources_analyzed);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r1.sentimentData.sentiment_label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.sentimentScoreDisplay);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Sources: \", ctx_r1.sentimentData.sources_analyzed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Confidence: \", i0.ɵɵpipeBind2(32, 17, ctx_r1.sentimentData.confidence, \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sentimentData.current_price !== null);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.priceSeriesPath)(\"ngIfElse\", noPrice_r7);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sentimentSeriesPath)(\"ngIfElse\", noTrend_r8);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.sentimentDistributionTotal)(\"ngIfElse\", noDist_r9);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.sentimentData.news);\n  }\n}\nfunction NetSocialComponent_ng_template_21_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtext(1, \" Select a ticker to start analysis. If no tickers are available, enter one manually above. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NetSocialComponent_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, NetSocialComponent_ng_template_21_div_0_Template, 2, 0, \"div\", 88);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedMode === \"dashboard\" || ctx_r1.selectedMode === \"single\");\n  }\n}\nfunction NetSocialComponent_section_23_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.batchError);\n  }\n}\nfunction NetSocialComponent_section_23_div_14_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 98);\n    i0.ɵɵtext(2, \"Most Positive\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 99);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.batchMostPositive.ticker);\n  }\n}\nfunction NetSocialComponent_section_23_div_14_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 98);\n    i0.ɵɵtext(2, \"Most Negative\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 99);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.batchMostNegative.ticker);\n  }\n}\nfunction NetSocialComponent_section_23_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"div\")(2, \"div\", 98);\n    i0.ɵɵtext(3, \"Average Score\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 99);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, NetSocialComponent_section_23_div_14_div_7_Template, 5, 1, \"div\", 100)(8, NetSocialComponent_section_23_div_14_div_8_Template, 5, 1, \"div\", 100);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, ctx_r1.batchAverageScore, \"1.3-3\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.batchMostPositive);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.batchMostNegative);\n  }\n}\nfunction NetSocialComponent_section_23_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 103)(1, \"div\", 104);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 105);\n    i0.ɵɵelement(4, \"div\", 106);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 107);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r11.ticker);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", (row_r11.score + 1) * 50, \"%\");\n    i0.ɵɵclassProp(\"positive\", row_r11.score >= 0.25)(\"negative\", row_r11.score <= -0.25);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 8, row_r11.score, \"1.3-3\"));\n  }\n}\nfunction NetSocialComponent_section_23_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 101);\n    i0.ɵɵtemplate(1, NetSocialComponent_section_23_div_15_div_1_Template, 8, 11, \"div\", 102);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.batchResults);\n  }\n}\nfunction NetSocialComponent_section_23_div_16_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 111)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r12.ticker);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r12.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 4, row_r12.score, \"1.3-3\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r12.price === null ? \"n/a\" : \"$\" + i0.ɵɵpipeBind2(10, 7, row_r12.price, \"1.2-2\"));\n  }\n}\nfunction NetSocialComponent_section_23_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 108)(1, \"div\", 109)(2, \"span\");\n    i0.ɵɵtext(3, \"Ticker\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5, \"Label\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7, \"Score\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, NetSocialComponent_section_23_div_16_div_10_Template, 11, 10, \"div\", 110);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.batchResults);\n  }\n}\nfunction NetSocialComponent_section_23_div_17_pre_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"pre\", 115);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.reportText);\n  }\n}\nfunction NetSocialComponent_section_23_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 112)(1, \"div\", 113)(2, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NetSocialComponent_section_23_div_17_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.downloadReport());\n    });\n    i0.ɵɵtext(3, \" Download Report \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, NetSocialComponent_section_23_div_17_pre_4_Template, 2, 1, \"pre\", 114);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.reportText);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.reportText);\n  }\n}\nfunction NetSocialComponent_section_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 89)(1, \"div\", 90)(2, \"div\")(3, \"h3\");\n    i0.ɵɵtext(4, \"Market Batch Analysis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Run sentiment across multiple tickers and compare scores.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 91)(8, \"label\");\n    i0.ɵɵtext(9, \" Max tickers \");\n    i0.ɵɵelementStart(10, \"input\", 92);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function NetSocialComponent_section_23_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.maxBatchSize, $event) || (ctx_r1.maxBatchSize = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NetSocialComponent_section_23_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.runBatchAnalysis(false));\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(13, NetSocialComponent_section_23_div_13_Template, 2, 1, \"div\", 17)(14, NetSocialComponent_section_23_div_14_Template, 9, 6, \"div\", 93)(15, NetSocialComponent_section_23_div_15_Template, 2, 1, \"div\", 94)(16, NetSocialComponent_section_23_div_16_Template, 11, 1, \"div\", 95)(17, NetSocialComponent_section_23_div_17_Template, 5, 2, \"div\", 96);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.maxBatchSize);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.batchLoading);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.batchLoading ? \"Analyzing...\" : \"Run Batch\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.batchError);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.batchResults.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.batchResults.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.batchResults.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedMode === \"report\");\n  }\n}\nfunction NetSocialComponent_section_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 116)(1, \"div\")(2, \"h3\");\n    i0.ɵɵtext(3, \"Quick Demo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Runs a short batch on a few tickers.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NetSocialComponent_section_24_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.runBatchAnalysis(true));\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.batchLoading);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.batchLoading ? \"Analyzing...\" : \"Run Demo\", \" \");\n  }\n}\nexport let NetSocialComponent = /*#__PURE__*/(() => {\n  class NetSocialComponent {\n    constructor(api, cdr) {\n      this.api = api;\n      this.cdr = cdr;\n      this.showIntroDetails = true;\n      this.selectedMode = 'dashboard';\n      this.sentimentWatchlistId = 1;\n      this.sentimentTicker = '';\n      this.sentimentLoading = false;\n      this.sentimentError = '';\n      this.sentimentData = null;\n      this.tickerSuggestions = [];\n      this.tickerDropdownOpen = false;\n      this.tickerSearchLoading = false;\n      this.batchLoading = false;\n      this.batchError = '';\n      this.maxBatchSize = 6;\n      this.batchResults = [];\n      this.reportText = '';\n      this.sentimentRequestId = 0;\n      this.batchRequestId = 0;\n      this.tickerSearchRequestId = 0;\n      this.localWatchlists = [{\n        id: 1,\n        name: 'AI Leaders',\n        description: 'Large-cap AI beneficiaries',\n        isPrivate: true,\n        stocks: [{\n          symbol: 'NVDA',\n          name: 'NVIDIA Corp'\n        }, {\n          symbol: 'MSFT',\n          name: 'Microsoft Corp'\n        }, {\n          symbol: 'META',\n          name: 'Meta Platforms'\n        }]\n      }, {\n        id: 2,\n        name: 'Mega Cap Core',\n        description: 'Core long-term holdings',\n        isPrivate: true,\n        stocks: [{\n          symbol: 'AAPL',\n          name: 'Apple Inc'\n        }, {\n          symbol: 'AMZN',\n          name: 'Amazon.com Inc'\n        }, {\n          symbol: 'GOOGL',\n          name: 'Alphabet Inc'\n        }]\n      }, {\n        id: 3,\n        name: 'Options Flow',\n        description: 'High open interest names',\n        isPrivate: true,\n        stocks: [{\n          symbol: 'TSLA',\n          name: 'Tesla Inc'\n        }, {\n          symbol: 'AMD',\n          name: 'Advanced Micro Devices'\n        }]\n      }];\n    }\n    ngOnInit() {\n      if (this.localWatchlists.length) {\n        this.sentimentWatchlistId = this.localWatchlists[0].id;\n        this.syncSentimentTicker();\n      }\n    }\n    hideIntroDetails() {\n      this.showIntroDetails = false;\n    }\n    showIntroDetailsOnHover() {\n      this.showIntroDetails = true;\n    }\n    setMode(mode) {\n      this.selectedMode = mode;\n      if (mode === 'dashboard' || mode === 'single') {\n        this.batchLoading = false;\n      } else {\n        this.sentimentLoading = false;\n      }\n    }\n    onSentimentWatchlistChange(id) {\n      this.sentimentWatchlistId = id;\n      this.syncSentimentTicker();\n      this.sentimentData = null;\n      this.sentimentError = '';\n      this.batchResults = [];\n      this.batchError = '';\n    }\n    onSentimentTickerChange(ticker) {\n      this.sentimentTicker = ticker;\n      this.sentimentData = null;\n      this.sentimentError = '';\n      this.queueTickerSearch(ticker);\n    }\n    onTickerInputFocus() {\n      this.tickerDropdownOpen = true;\n      if (this.sentimentTicker) {\n        this.queueTickerSearch(this.sentimentTicker);\n      }\n    }\n    onTickerInputBlur() {\n      window.setTimeout(() => {\n        this.tickerDropdownOpen = false;\n        this.cdr.detectChanges();\n      }, 150);\n    }\n    onSelectTickerSuggestion(suggestion) {\n      this.sentimentTicker = suggestion.symbol.toUpperCase();\n      this.tickerSuggestions = [];\n      this.tickerDropdownOpen = false;\n    }\n    analyzeSentiment() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const ticker = _this.sentimentTicker.trim().toUpperCase();\n        if (!ticker || _this.sentimentLoading) return;\n        const requestId = ++_this.sentimentRequestId;\n        _this.sentimentLoading = true;\n        _this.sentimentError = '';\n        _this.sentimentData = null;\n        try {\n          const data = yield firstValueFrom(_this.api.analyzeSentiment(ticker));\n          if (requestId === _this.sentimentRequestId) {\n            _this.sentimentData = data;\n          }\n        } catch {\n          if (requestId === _this.sentimentRequestId) {\n            _this.sentimentError = 'Failed to analyze sentiment.';\n          }\n        } finally {\n          if (requestId === _this.sentimentRequestId) {\n            _this.sentimentLoading = false;\n            _this.cdr.detectChanges();\n          }\n        }\n      })();\n    }\n    runBatchAnalysis() {\n      var _this2 = this;\n      return _asyncToGenerator(function* (useDemo = false) {\n        if (_this2.batchLoading) return;\n        const tickers = _this2.getBatchTickers(useDemo);\n        if (!tickers.length) {\n          _this2.batchError = 'No tickers available for batch analysis.';\n          return;\n        }\n        const requestId = ++_this2.batchRequestId;\n        _this2.batchLoading = true;\n        _this2.batchError = '';\n        _this2.batchResults = [];\n        _this2.reportText = '';\n        try {\n          for (const ticker of tickers) {\n            try {\n              const data = yield firstValueFrom(_this2.api.analyzeSentiment(ticker));\n              if (requestId === _this2.batchRequestId) {\n                _this2.batchResults.push({\n                  ticker: data.ticker,\n                  score: data.overall_score,\n                  label: data.sentiment_label,\n                  price: data.current_price\n                });\n                _this2.cdr.detectChanges();\n              }\n            } catch {\n              if (requestId === _this2.batchRequestId) {\n                _this2.batchError = `Failed to analyze ${ticker}.`;\n                _this2.cdr.detectChanges();\n              }\n            }\n          }\n          if (requestId === _this2.batchRequestId && !_this2.batchResults.length) {\n            _this2.batchError = _this2.batchError || 'No batch results available.';\n          }\n        } finally {\n          if (requestId === _this2.batchRequestId) {\n            _this2.batchLoading = false;\n            _this2.cdr.detectChanges();\n          }\n        }\n      }).apply(this, arguments);\n    }\n    generateMarketReport() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this3.batchResults.length) {\n          yield _this3.runBatchAnalysis(false);\n        }\n        if (!_this3.batchResults.length) return;\n        _this3.reportText = _this3.buildReportText();\n      })();\n    }\n    downloadReport() {\n      if (!this.reportText) return;\n      const blob = new Blob([this.reportText], {\n        type: 'text/plain;charset=utf-8'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `sentiment-report-${new Date().toISOString().slice(0, 10)}.txt`;\n      link.click();\n      window.URL.revokeObjectURL(url);\n    }\n    downloadAnalysisPdf() {\n      if (!this.sentimentData) return;\n      const lines = this.buildAnalysisReportLines();\n      const blob = this.buildPdfBlob(lines, this.sentimentData, this.priceSeriesPath, this.sentimentSeriesPath);\n      const url = window.URL.createObjectURL(blob);\n      const fileDate = new Date().toISOString().slice(0, 10);\n      const ticker = this.sentimentData.ticker.toUpperCase();\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `sentiment-analysis-${ticker}-${fileDate}.pdf`;\n      link.click();\n      window.URL.revokeObjectURL(url);\n    }\n    get sentimentWatchlist() {\n      return this.localWatchlists.find(w => w.id === this.sentimentWatchlistId);\n    }\n    get sentimentTickers() {\n      return this.sentimentWatchlist?.stocks ?? [];\n    }\n    get sentimentDistributionTotal() {\n      const dist = this.sentimentData?.distribution;\n      if (!dist) return 0;\n      return dist.positive + dist.neutral + dist.negative;\n    }\n    get sentimentScoreDisplay() {\n      if (!this.sentimentData) return '0.000';\n      return this.sentimentData.overall_score.toFixed(3);\n    }\n    get gaugeAngle() {\n      const score = this.sentimentData?.overall_score ?? 0;\n      const clamped = Math.max(-1, Math.min(1, score));\n      return clamped * 90;\n    }\n    get gaugeLabel() {\n      return this.sentimentData?.sentiment_label ?? 'Neutral';\n    }\n    get batchAverageScore() {\n      if (!this.batchResults.length) return 0;\n      return this.batchResults.reduce((sum, r) => sum + r.score, 0) / this.batchResults.length;\n    }\n    get batchMostPositive() {\n      if (!this.batchResults.length) return null;\n      return this.batchResults.reduce((max, r) => r.score > max.score ? r : max);\n    }\n    get batchMostNegative() {\n      if (!this.batchResults.length) return null;\n      return this.batchResults.reduce((min, r) => r.score < min.score ? r : min);\n    }\n    get priceSeriesPath() {\n      return this.buildLinePath(this.sentimentData?.price_history ?? [], point => point.close);\n    }\n    get sentimentSeriesPath() {\n      return this.buildLinePath(this.sentimentData?.sentiment_history ?? [], point => point.score);\n    }\n    syncSentimentTicker() {\n      const tickers = this.sentimentTickers;\n      this.sentimentTicker = tickers.length ? tickers[0].symbol : '';\n    }\n    queueTickerSearch(query) {\n      if (this.tickerSearchTimer) {\n        window.clearTimeout(this.tickerSearchTimer);\n      }\n      const trimmed = query.trim();\n      if (!trimmed) {\n        this.tickerSuggestions = [];\n        return;\n      }\n      this.tickerSearchTimer = window.setTimeout(() => {\n        this.fetchTickerSuggestions(trimmed);\n      }, 250);\n    }\n    fetchTickerSuggestions(query) {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        const requestId = ++_this4.tickerSearchRequestId;\n        _this4.tickerSearchLoading = true;\n        try {\n          const suggestions = yield firstValueFrom(_this4.api.searchTickers(query, 20));\n          if (requestId === _this4.tickerSearchRequestId) {\n            _this4.tickerSuggestions = suggestions;\n            _this4.tickerDropdownOpen = true;\n          }\n        } catch {\n          if (requestId === _this4.tickerSearchRequestId) {\n            _this4.tickerSuggestions = [];\n          }\n        } finally {\n          if (requestId === _this4.tickerSearchRequestId) {\n            _this4.tickerSearchLoading = false;\n            _this4.cdr.detectChanges();\n          }\n        }\n      })();\n    }\n    getBatchTickers(useDemo) {\n      const watchlistTickers = this.sentimentTickers.map(s => s.symbol);\n      const fallback = ['AAPL', 'MSFT', 'NVDA'];\n      const base = watchlistTickers.length ? watchlistTickers : fallback;\n      const list = useDemo ? base.slice(0, 3) : base.slice(0, this.maxBatchSize);\n      return list.map(t => t.toUpperCase());\n    }\n    buildReportText() {\n      const avg = this.batchAverageScore.toFixed(3);\n      const mostPositive = this.batchMostPositive;\n      const mostNegative = this.batchMostNegative;\n      const lines = ['FINANCIAL SENTIMENT ANALYSIS REPORT', '===================================', `Generated: ${new Date().toLocaleString()}`, 'Analysis Type: Sentiment', '', `Average Sentiment Score: ${avg}`, mostPositive ? `Most Positive: ${mostPositive.ticker} (${mostPositive.score.toFixed(3)})` : 'Most Positive: N/A', mostNegative ? `Most Negative: ${mostNegative.ticker} (${mostNegative.score.toFixed(3)})` : 'Most Negative: N/A', '', 'Ticker Summary:'];\n      for (const row of this.batchResults) {\n        const price = row.price === null ? 'n/a' : `$${row.price.toFixed(2)}`;\n        lines.push(`${row.ticker.padEnd(6)} | ${row.label.padEnd(8)} | ${row.score.toFixed(3)} | ${price}`);\n      }\n      return lines.join('\\n');\n    }\n    buildAnalysisReportLines() {\n      if (!this.sentimentData) return [];\n      const data = this.sentimentData;\n      const price = data.current_price === null ? 'n/a' : `$${data.current_price.toFixed(2)}`;\n      const lines = ['FINANCIAL SENTIMENT ANALYSIS REPORT', '===================================', `Generated: ${new Date().toLocaleString()}`, `Ticker: ${data.ticker}`, 'Analysis Type: Sentiment', `Overall Score: ${data.overall_score.toFixed(3)}`, `Label: ${data.sentiment_label}`, `Confidence: ${data.confidence.toFixed(2)}`, `Sources Analyzed: ${data.sources_analyzed}`, `Current Price: ${price}`, '', 'Distribution:', `Positive: ${data.distribution.positive}`, `Neutral: ${data.distribution.neutral}`, `Negative: ${data.distribution.negative}`, '', 'Recent Headlines:'];\n      if (!data.news.length) {\n        lines.push('n/a');\n      } else {\n        const maxHeadlines = 6;\n        for (const item of data.news.slice(0, maxHeadlines)) {\n          const score = item.sentiment_score.toFixed(2);\n          lines.push(`- ${item.headline} (${item.sentiment_label}, ${score})`);\n        }\n      }\n      return lines;\n    }\n    buildPdfBlob(lines, sentimentData, pricePath = '', sentimentPath = '') {\n      const wrapped = lines.flatMap(line => this.wrapPdfText(line, 92));\n      const displayLines = wrapped.slice(0, 20);\n      const textBlock = ['BT', '/F1 12 Tf', '72 720 Td', '14 TL', displayLines.map(line => `(${this.escapePdfText(line)}) Tj`).join('\\nT*\\n'), 'ET'].join('\\n');\n      const charts = this.buildPdfCharts(sentimentData, pricePath, sentimentPath);\n      const contentStream = [textBlock, charts].filter(Boolean).join('\\n');\n      const encoder = new TextEncoder();\n      const contentLength = encoder.encode(contentStream).length;\n      const objects = ['1 0 obj\\n<< /Type /Catalog /Pages 2 0 R >>\\nendobj', '2 0 obj\\n<< /Type /Pages /Kids [3 0 R] /Count 1 >>\\nendobj', '3 0 obj\\n<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 4 0 R >> >> /Contents 5 0 R >>\\nendobj', '4 0 obj\\n<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>\\nendobj', `5 0 obj\\n<< /Length ${contentLength} >>\\nstream\\n${contentStream}\\nendstream\\nendobj`];\n      const parts = [];\n      const offsets = [0];\n      let offset = 0;\n      const addPart = part => {\n        const text = `${part}\\n`;\n        parts.push(text);\n        offset += encoder.encode(text).length;\n      };\n      addPart('%PDF-1.4');\n      for (const obj of objects) {\n        offsets.push(offset);\n        addPart(obj);\n      }\n      const xrefStart = offset;\n      addPart('xref');\n      addPart(`0 ${objects.length + 1}`);\n      addPart('0000000000 65535 f ');\n      for (let i = 1; i < offsets.length; i += 1) {\n        const line = `${offsets[i].toString().padStart(10, '0')} 00000 n `;\n        addPart(line);\n      }\n      addPart('trailer');\n      addPart(`<< /Size ${objects.length + 1} /Root 1 0 R >>`);\n      addPart('startxref');\n      addPart(`${xrefStart}`);\n      addPart('%%EOF');\n      return new Blob(parts, {\n        type: 'application/pdf'\n      });\n    }\n    wrapPdfText(line, maxLength) {\n      if (line.length <= maxLength) return [line];\n      const words = line.split(' ');\n      const lines = [];\n      let current = '';\n      for (const word of words) {\n        const next = current ? `${current} ${word}` : word;\n        if (next.length <= maxLength) {\n          current = next;\n          continue;\n        }\n        if (current) {\n          lines.push(current);\n          current = word;\n        } else {\n          lines.push(word.slice(0, maxLength));\n          current = word.slice(maxLength);\n        }\n      }\n      if (current) {\n        lines.push(current);\n      }\n      return lines;\n    }\n    escapePdfText(text) {\n      return text.replace(/\\\\/g, '\\\\\\\\').replace(/\\(/g, '\\\\(').replace(/\\)/g, '\\\\)');\n    }\n    buildPdfCharts(sentimentData, pricePath, sentimentPath) {\n      const pricePoints = this.parseSvgPath(pricePath);\n      const sentimentPoints = this.parseSvgPath(sentimentPath);\n      if (!sentimentData && !pricePoints.length && !sentimentPoints.length) return '';\n      const blocks = [];\n      if (sentimentData) {\n        blocks.push(this.renderGaugeBlock(sentimentData, 72, 300));\n        blocks.push(this.renderDistributionBlock(sentimentData, 312, 300));\n      }\n      if (pricePoints.length) {\n        blocks.push(this.renderChartBlock('Price Trend', pricePoints, 72, 160));\n      }\n      if (sentimentPoints.length) {\n        blocks.push(this.renderChartBlock('Sentiment Trend', sentimentPoints, 72, 20));\n      }\n      return blocks.join('\\n');\n    }\n    renderChartBlock(title, points, x, y) {\n      const width = 468;\n      const height = 110;\n      const chart = ['q', '0.1 0.7 0.68 RG', '1 w', `${x} ${y} ${width} ${height} re S`, '0.9 0.95 0.97 rg', '0 0 0 RG', `BT /F1 11 Tf ${x} ${y + height + 14} Td (${this.escapePdfText(title)}) Tj ET`, 'q', '0 0 0 RG', '1.2 w', ...this.renderPolyline(points, x, y, width, height), 'Q', 'Q'];\n      return chart.join('\\n');\n    }\n    renderPolyline(points, x, y, width, height) {\n      if (!points.length) return [];\n      const scaled = points.map(([px, py]) => [x + px / 320 * width, y + height - py / 110 * height]);\n      const commands = [];\n      const [startX, startY] = scaled[0];\n      commands.push(`${startX.toFixed(2)} ${startY.toFixed(2)} m`);\n      for (let i = 1; i < scaled.length; i += 1) {\n        const [lineX, lineY] = scaled[i];\n        commands.push(`${lineX.toFixed(2)} ${lineY.toFixed(2)} l`);\n      }\n      commands.push('S');\n      return commands;\n    }\n    parseSvgPath(path) {\n      if (!path) return [];\n      const points = [];\n      const tokens = path.replace(/[ML]/g, '').trim().split(' ');\n      for (const token of tokens) {\n        const [x, y] = token.split(',').map(value => Number(value));\n        if (Number.isFinite(x) && Number.isFinite(y)) {\n          points.push([x, y]);\n        }\n      }\n      return points;\n    }\n    renderGaugeBlock(data, x, y) {\n      const width = 220;\n      const height = 120;\n      const centerX = x + width / 2;\n      const centerY = y + 30;\n      const radius = 52;\n      const score = Math.max(-1, Math.min(1, data.overall_score));\n      const angle = (180 - (score + 1) * 90) * (Math.PI / 180);\n      const needleX = centerX + Math.cos(angle) * (radius - 8);\n      const needleY = centerY + Math.sin(angle) * (radius - 8);\n      const arcs = [{\n        start: 180,\n        end: 120,\n        color: '0.94 0.35 0.35 RG'\n      }, {\n        start: 120,\n        end: 60,\n        color: '0.82 0.76 0.63 RG'\n      }, {\n        start: 60,\n        end: 0,\n        color: '0.2 0.8 0.6 RG'\n      }];\n      const commands = ['q', '1.5 w'];\n      for (const arc of arcs) {\n        commands.push(arc.color);\n        commands.push(...this.renderArc(centerX, centerY, radius, arc.start, arc.end));\n      }\n      commands.push('0 0 0 RG');\n      commands.push('1 w');\n      commands.push(`${centerX.toFixed(2)} ${centerY.toFixed(2)} m`);\n      commands.push(`${needleX.toFixed(2)} ${needleY.toFixed(2)} l`);\n      commands.push('S');\n      commands.push('0.15 0.2 0.25 rg');\n      commands.push(`${(centerX - 3).toFixed(2)} ${(centerY - 3).toFixed(2)} 6 6 re f`);\n      commands.push('0 0 0 rg');\n      commands.push(`BT /F1 11 Tf ${x} ${y + height - 6} Td (${this.escapePdfText('Signal Gauge')}) Tj ET`);\n      commands.push(`BT /F1 10 Tf ${x} ${y + 8} Td (${this.escapePdfText(`Score ${data.overall_score.toFixed(3)} | ${data.sentiment_label}`)}) Tj ET`);\n      commands.push('Q');\n      return commands.join('\\n');\n    }\n    renderDistributionBlock(data, x, y) {\n      const width = 228;\n      const height = 120;\n      const total = data.distribution.positive + data.distribution.neutral + data.distribution.negative || 1;\n      const rows = [{\n        label: 'Positive',\n        value: data.distribution.positive,\n        color: '0.2 0.8 0.6 rg'\n      }, {\n        label: 'Neutral',\n        value: data.distribution.neutral,\n        color: '0.82 0.76 0.63 rg'\n      }, {\n        label: 'Negative',\n        value: data.distribution.negative,\n        color: '0.94 0.35 0.35 rg'\n      }];\n      const barX = x + 72;\n      const barWidth = width - 90;\n      const rowHeight = 18;\n      const startY = y + height - 26;\n      const commands = ['q'];\n      commands.push(`BT /F1 11 Tf ${x} ${y + height - 6} Td (${this.escapePdfText('Distribution')}) Tj ET`);\n      rows.forEach((row, index) => {\n        const rowY = startY - index * (rowHeight + 6);\n        const ratio = row.value / total;\n        const fillWidth = Math.max(2, barWidth * ratio);\n        commands.push(`BT /F1 10 Tf ${x} ${rowY + 4} Td (${row.label}) Tj ET`);\n        commands.push('0.12 0.16 0.2 rg');\n        commands.push(`${barX} ${rowY} ${barWidth} ${rowHeight} re f`);\n        commands.push(row.color);\n        commands.push(`${barX} ${rowY} ${fillWidth} ${rowHeight} re f`);\n        commands.push('0 0 0 rg');\n        commands.push(`BT /F1 10 Tf ${barX + barWidth + 6} ${rowY + 4} Td (${row.value}) Tj ET`);\n      });\n      commands.push('Q');\n      return commands.join('\\n');\n    }\n    renderArc(centerX, centerY, radius, start, end) {\n      const points = [];\n      const step = 8;\n      for (let angle = start; angle >= end; angle -= step) {\n        const rad = angle * Math.PI / 180;\n        points.push([centerX + Math.cos(rad) * radius, centerY + Math.sin(rad) * radius]);\n      }\n      const endRad = end * Math.PI / 180;\n      points.push([centerX + Math.cos(endRad) * radius, centerY + Math.sin(endRad) * radius]);\n      return this.renderPolylineRaw(points);\n    }\n    renderPolylineRaw(points) {\n      if (!points.length) return [];\n      const commands = [];\n      const [startX, startY] = points[0];\n      commands.push(`${startX.toFixed(2)} ${startY.toFixed(2)} m`);\n      for (let i = 1; i < points.length; i += 1) {\n        const [lineX, lineY] = points[i];\n        commands.push(`${lineX.toFixed(2)} ${lineY.toFixed(2)} l`);\n      }\n      commands.push('S');\n      return commands;\n    }\n    buildLinePath(data, valueSelector, width = 320, height = 110) {\n      if (!data.length) return '';\n      const values = data.map(point => Number(valueSelector(point))).filter(v => Number.isFinite(v));\n      if (!values.length) return '';\n      const min = Math.min(...values);\n      const max = Math.max(...values);\n      const range = max - min || 1;\n      const step = width / Math.max(values.length - 1, 1);\n      return values.map((value, index) => {\n        const x = index * step;\n        const y = height - (value - min) / range * height;\n        return `${index === 0 ? 'M' : 'L'}${x.toFixed(1)},${y.toFixed(1)}`;\n      }).join(' ');\n    }\n    static {\n      this.ɵfac = function NetSocialComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || NetSocialComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: NetSocialComponent,\n        selectors: [[\"app-net-social\"]],\n        decls: 25,\n        vars: 16,\n        consts: [[\"emptySentiment\", \"\"], [\"noPrice\", \"\"], [\"noTrend\", \"\"], [\"noDist\", \"\"], [1, \"sentiment-panel\"], [\"class\", \"sentiment-loading\", 4, \"ngIf\"], [1, \"sentiment-hero\", 3, \"mouseenter\"], [1, \"sentiment-hero-header\"], [1, \"sentiment-subtitle\"], [\"aria-label\", \"Hide details\", 1, \"hero-close\", 3, \"click\"], [\"class\", \"sentiment-bullets\", 4, \"ngIf\"], [\"class\", \"hero-hint\", 4, \"ngIf\"], [1, \"sentiment-modes\"], [1, \"mode-btn\", 3, \"click\"], [\"class\", \"sentiment-header\", 4, \"ngIf\"], [1, \"sentiment-controls\"], [\"class\", \"ticker-action-row\", 4, \"ngIf\"], [\"class\", \"sentiment-status\", 4, \"ngIf\"], [\"class\", \"sentiment-grid\", 4, \"ngIf\", \"ngIfElse\"], [\"class\", \"batch-panel\", 4, \"ngIf\"], [\"class\", \"demo-panel\", 4, \"ngIf\"], [1, \"sentiment-loading\"], [1, \"sentiment-loading-backdrop\"], [\"role\", \"status\", \"aria-live\", \"polite\", 1, \"sentiment-loading-card\"], [1, \"spinner\"], [1, \"loading-title\"], [1, \"loading-subtitle\"], [1, \"sentiment-bullets\"], [1, \"hero-hint\"], [1, \"sentiment-header\"], [1, \"sentiment-actions\"], [1, \"ghost\", 3, \"click\", \"disabled\"], [1, \"ticker-action-row\"], [1, \"ticker-label\"], [1, \"ticker-field\"], [\"placeholder\", \"Enter ticker (e.g. AAPL)\", \"autocomplete\", \"off\", 1, \"sentiment-input\", 3, \"ngModelChange\", \"focus\", \"blur\", \"ngModel\"], [\"class\", \"ticker-dropdown\", 4, \"ngIf\"], [1, \"primary\", 3, \"click\", \"disabled\"], [1, \"ticker-dropdown\"], [\"class\", \"ticker-loading\", 4, \"ngIf\"], [\"class\", \"ticker-option\", \"type\", \"button\", 3, \"mousedown\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ticker-empty\", 4, \"ngIf\"], [1, \"ticker-loading\"], [\"type\", \"button\", 1, \"ticker-option\", 3, \"mousedown\"], [1, \"ticker-symbol\"], [1, \"ticker-desc\"], [1, \"ticker-exchange\"], [1, \"ticker-empty\"], [1, \"sentiment-status\"], [1, \"sentiment-grid\"], [1, \"sentiment-card\", \"gauge-card\"], [1, \"sentiment-kicker\"], [1, \"gauge\"], [\"viewBox\", \"0 0 200 110\", \"aria-hidden\", \"true\"], [\"d\", \"M20,100 A80,80 0 0 1 80,20\", 1, \"gauge-arc\", \"negative\"], [\"d\", \"M80,20 A80,80 0 0 1 120,20\", 1, \"gauge-arc\", \"neutral\"], [\"d\", \"M120,20 A80,80 0 0 1 180,100\", 1, \"gauge-arc\", \"positive\"], [1, \"gauge-needle\"], [1, \"gauge-center\"], [1, \"gauge-label\"], [1, \"gauge-meta\"], [1, \"sentiment-card\"], [1, \"sentiment-score\"], [1, \"sentiment-label\"], [1, \"sentiment-value\"], [1, \"sentiment-meta\"], [\"class\", \"sentiment-meta\", 4, \"ngIf\"], [\"viewBox\", \"0 0 320 110\", \"class\", \"sentiment-chart\", 4, \"ngIf\", \"ngIfElse\"], [\"class\", \"distribution\", 4, \"ngIf\", \"ngIfElse\"], [1, \"sentiment-card\", \"sentiment-news\"], [1, \"news-list\"], [\"class\", \"news-item\", 4, \"ngFor\", \"ngForOf\"], [\"viewBox\", \"0 0 320 110\", 1, \"sentiment-chart\"], [1, \"line\"], [1, \"empty\"], [1, \"distribution\"], [1, \"distribution-row\"], [1, \"bar\"], [1, \"fill\", \"positive\"], [1, \"fill\", \"neutral\"], [1, \"fill\", \"negative\"], [1, \"news-item\"], [1, \"news-title\"], [1, \"news-meta\"], [\"class\", \"news-summary\", 4, \"ngIf\"], [1, \"sentiment-pill\"], [\"target\", \"_blank\", \"rel\", \"noopener\", 1, \"chip\", 3, \"href\"], [1, \"news-summary\"], [\"class\", \"empty\", 4, \"ngIf\"], [1, \"batch-panel\"], [1, \"batch-header\"], [1, \"batch-actions\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"20\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"batch-stats\", 4, \"ngIf\"], [\"class\", \"batch-chart\", 4, \"ngIf\"], [\"class\", \"batch-table\", 4, \"ngIf\"], [\"class\", \"report-panel\", 4, \"ngIf\"], [1, \"batch-stats\"], [1, \"stat-label\"], [1, \"stat-value\"], [4, \"ngIf\"], [1, \"batch-chart\"], [\"class\", \"batch-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"batch-row\"], [1, \"batch-ticker\"], [1, \"batch-bar\"], [1, \"batch-fill\"], [1, \"batch-score\"], [1, \"batch-table\"], [1, \"batch-table-head\"], [\"class\", \"batch-table-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"batch-table-row\"], [1, \"report-panel\"], [1, \"report-actions\"], [\"class\", \"report-box\", 4, \"ngIf\"], [1, \"report-box\"], [1, \"demo-panel\"]],\n        template: function NetSocialComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"section\", 4);\n            i0.ɵɵtemplate(1, NetSocialComponent_div_1_Template, 8, 0, \"div\", 5);\n            i0.ɵɵelementStart(2, \"div\", 6);\n            i0.ɵɵlistener(\"mouseenter\", function NetSocialComponent_Template_div_mouseenter_2_listener() {\n              return ctx.showIntroDetailsOnHover();\n            });\n            i0.ɵɵelementStart(3, \"div\", 7)(4, \"div\")(5, \"div\", 8);\n            i0.ɵɵtext(6, \" Analyze market sentiment for US tickers with signal scores, trend charts, and curated news. \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function NetSocialComponent_Template_button_click_7_listener() {\n              return ctx.hideIntroDetails();\n            });\n            i0.ɵɵtext(8, \"x\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(9, NetSocialComponent_div_9_Template, 9, 0, \"div\", 10)(10, NetSocialComponent_div_10_Template, 2, 0, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"div\", 12)(12, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function NetSocialComponent_Template_button_click_12_listener() {\n              return ctx.setMode(\"single\");\n            });\n            i0.ɵɵtext(13, \" Analyze Single Asset \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function NetSocialComponent_Template_button_click_14_listener() {\n              return ctx.setMode(\"batch\");\n            });\n            i0.ɵɵtext(15, \" Batch Analyze Market \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(16, NetSocialComponent_div_16_Template, 9, 1, \"div\", 14);\n            i0.ɵɵelementStart(17, \"div\", 15);\n            i0.ɵɵtemplate(18, NetSocialComponent_div_18_Template, 8, 4, \"div\", 16)(19, NetSocialComponent_div_19_Template, 2, 1, \"div\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(20, NetSocialComponent_div_20_Template, 57, 20, \"div\", 18)(21, NetSocialComponent_ng_template_21_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(23, NetSocialComponent_section_23_Template, 18, 8, \"section\", 19)(24, NetSocialComponent_section_24_Template, 8, 2, \"section\", 20);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const emptySentiment_r15 = i0.ɵɵreference(22);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.sentimentLoading && (ctx.selectedMode === \"dashboard\" || ctx.selectedMode === \"single\") || ctx.batchLoading && (ctx.selectedMode === \"batch\" || ctx.selectedMode === \"report\"));\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"collapsed\", !ctx.showIntroDetails);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngIf\", ctx.showIntroDetails);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.showIntroDetails);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.selectedMode === \"single\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.selectedMode === \"batch\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedMode === \"dashboard\" || ctx.selectedMode === \"single\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedMode === \"dashboard\" || ctx.selectedMode === \"single\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.sentimentError);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (ctx.selectedMode === \"dashboard\" || ctx.selectedMode === \"single\") && ctx.sentimentData)(\"ngIfElse\", emptySentiment_r15);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedMode === \"batch\" || ctx.selectedMode === \"report\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedMode === \"demo\");\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.MaxValidator, i3.NgModel, i2.DecimalPipe, i2.DatePipe],\n        styles: [\".sentiment-panel[_ngcontent-%COMP%]{display:grid;gap:20px}.sentiment-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1bb7a62e,#0e1821f2),linear-gradient(180deg,rgba(255,255,255,.08),transparent 45%);border:1px solid var(--border);border-radius:18px;padding:20px;display:grid;gap:10px;box-shadow:0 18px 40px #020a1080,inset 0 1px #ffffff14}.sentiment-hero.collapsed[_ngcontent-%COMP%]{gap:6px}.sentiment-hero-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;align-items:flex-start}.hero-close[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);color:var(--text);border-radius:10px;width:32px;height:32px;display:grid;place-items:center}.hero-close[_ngcontent-%COMP%]:hover{border-color:var(--accent);color:var(--accent)}.hero-hint[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.sentiment-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.sentiment-subtitle[_ngcontent-%COMP%]{color:var(--muted)}.sentiment-bullets[_ngcontent-%COMP%]{display:grid;gap:4px;font-size:12px;color:var(--muted)}.sentiment-modes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.mode-btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,.08),transparent 55%),var(--card);border:1px solid var(--border);color:var(--text);border-radius:14px;padding:10px 14px;text-align:left;font-weight:600;box-shadow:inset 0 1px #ffffff12;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease}.mode-btn.active[_ngcontent-%COMP%]{border-color:var(--accent);box-shadow:0 12px 24px #020a1073,0 0 0 1px #1bb7a659,inset 0 1px #ffffff1f;transform:translateY(-2px)}.sentiment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap;align-items:center}.sentiment-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.sentiment-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted)}.primary[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,.18),transparent 55%),linear-gradient(135deg,#19b6a4,#2aa8d6);color:#e9fbf7;border:1px solid rgba(100,224,212,.45);border-radius:12px;padding:10px 16px;font-weight:700;box-shadow:0 10px 24px #05141c8c,inset 0 1px #ffffff2e}.primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.ghost[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,.06),transparent 55%),#111c26cc;border:1px solid rgba(31,47,59,.9);color:var(--text);border-radius:12px;padding:8px 14px;box-shadow:inset 0 1px #ffffff0f}.sentiment-controls[_ngcontent-%COMP%]{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));align-items:end}.sentiment-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:6px;color:var(--muted);font-size:12px}.ticker-action-row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-end;flex-wrap:wrap}.ticker-label[_ngcontent-%COMP%]{flex:1 1 220px;display:grid;gap:6px;color:var(--muted);font-size:12px}.ticker-action-row[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{white-space:nowrap;height:36px}.sentiment-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .sentiment-controls[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:8px 10px;font-size:13px}.ticker-field[_ngcontent-%COMP%]{position:relative}.ticker-dropdown[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:calc(100% + 6px);background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:0 14px 30px #030c1280;z-index:20;max-height:260px;overflow-y:auto;padding:6px}.ticker-option[_ngcontent-%COMP%]{width:100%;text-align:left;display:grid;grid-template-columns:70px 1fr auto;gap:8px;align-items:center;padding:8px 10px;background:transparent;border:none;color:var(--text);border-radius:10px;cursor:pointer}.ticker-option[_ngcontent-%COMP%]:hover{background:#ffffff14}.ticker-symbol[_ngcontent-%COMP%]{font-weight:700}.ticker-desc[_ngcontent-%COMP%]{color:var(--muted);font-size:12px}.ticker-exchange[_ngcontent-%COMP%]{font-size:11px;color:var(--accent-2);border:1px solid var(--border);padding:2px 8px;border-radius:999px}.ticker-loading[_ngcontent-%COMP%], .ticker-empty[_ngcontent-%COMP%]{padding:8px 10px;color:var(--muted);font-size:12px}.sentiment-status[_ngcontent-%COMP%]{color:var(--negative);font-size:12px}.sentiment-grid[_ngcontent-%COMP%]{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}.sentiment-card[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,.08),transparent 60%),var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;display:grid;gap:10px;box-shadow:0 16px 32px #030c128c,inset 0 1px #ffffff14}.sentiment-kicker[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}.sentiment-score[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;font-size:18px;font-weight:700}.sentiment-label[_ngcontent-%COMP%]{color:var(--accent-2)}.sentiment-value[_ngcontent-%COMP%]{font-size:28px}.sentiment-meta[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.sentiment-chart[_ngcontent-%COMP%]{width:100%;height:120px}.sentiment-chart[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{fill:none;stroke:var(--accent);stroke-width:2.5}.distribution[_ngcontent-%COMP%]{display:grid;gap:8px;font-size:12px}.distribution-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:70px 1fr 40px;gap:8px;align-items:center}.bar[_ngcontent-%COMP%]{height:8px;background:#f0e6d7;border:1px solid var(--border);border-radius:999px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;background:var(--accent)}.fill.positive[_ngcontent-%COMP%]{background:var(--positive)}.fill.neutral[_ngcontent-%COMP%]{background:#c2b8a6}.fill.negative[_ngcontent-%COMP%]{background:var(--negative)}.sentiment-news[_ngcontent-%COMP%]{grid-column:1 / -1}.news-list[_ngcontent-%COMP%]{display:grid;gap:12px}.news-item[_ngcontent-%COMP%]{display:grid;gap:8px;grid-template-columns:1fr auto auto;align-items:center;border:1px solid var(--border);border-radius:12px;padding:12px;background:linear-gradient(180deg,rgba(255,255,255,.06),transparent 60%),var(--card-2);box-shadow:inset 0 1px #ffffff0f}.news-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px}.news-meta[_ngcontent-%COMP%], .news-summary[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.sentiment-pill[_ngcontent-%COMP%]{border-radius:999px;padding:4px 10px;font-size:11px;background:#f0e6d7}.sentiment-pill.positive[_ngcontent-%COMP%]{background:#2a9d8f33;color:#1d6d63}.sentiment-pill.negative[_ngcontent-%COMP%]{background:#e76f5133;color:#9f3b26}.chip[_ngcontent-%COMP%]{border:1px solid rgba(31,47,59,.9);border-radius:999px;padding:4px 10px;font-size:11px;color:var(--text);text-decoration:none;background:#111c26cc;box-shadow:inset 0 1px #ffffff0d}.batch-panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,.08),transparent 60%),var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;display:grid;gap:14px;box-shadow:0 16px 32px #030c128c,inset 0 1px #ffffff14}.batch-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap}.batch-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-wrap:wrap}.batch-actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:6px;color:var(--muted);font-size:12px}.batch-actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90px;background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:6px 8px}.batch-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.stat-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.batch-chart[_ngcontent-%COMP%]{display:grid;gap:10px}.batch-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:70px 1fr 70px;gap:8px;align-items:center;font-size:12px}.batch-bar[_ngcontent-%COMP%]{height:10px;background:#f0e6d7;border:1px solid var(--border);border-radius:999px;overflow:hidden}.batch-fill[_ngcontent-%COMP%]{height:100%;background:#bcae9c}.batch-fill.positive[_ngcontent-%COMP%]{background:var(--positive)}.batch-fill.negative[_ngcontent-%COMP%]{background:var(--negative)}.batch-table[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:12px;overflow:hidden}.batch-table-head[_ngcontent-%COMP%], .batch-table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;padding:8px 10px;font-size:12px}.batch-table-head[_ngcontent-%COMP%]{background:var(--card-2);font-weight:600}.batch-table-row[_ngcontent-%COMP%]{border-top:1px solid var(--border)}.report-panel[_ngcontent-%COMP%]{display:grid;gap:10px}.report-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.report-box[_ngcontent-%COMP%]{background:#f7efe3;border:1px solid var(--border);border-radius:12px;padding:12px;max-height:320px;overflow:auto;font-size:12px}.demo-panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,.08),transparent 60%),var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;display:flex;justify-content:space-between;align-items:center;gap:12px;box-shadow:0 16px 32px #030c128c,inset 0 1px #ffffff14}.gauge-card[_ngcontent-%COMP%]{align-items:center}.gauge[_ngcontent-%COMP%]{position:relative;width:100%;max-width:220px;height:140px;margin:0 auto}.gauge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.gauge-arc[_ngcontent-%COMP%]{fill:none;stroke-width:12;stroke-linecap:round}.gauge-arc.negative[_ngcontent-%COMP%]{stroke:var(--negative)}.gauge-arc.neutral[_ngcontent-%COMP%]{stroke:#bcae9c}.gauge-arc.positive[_ngcontent-%COMP%]{stroke:var(--positive)}.gauge-needle[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:18px;width:2px;height:70px;transform-origin:bottom center}.gauge-needle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:2px;height:100%;background:var(--text);box-shadow:0 0 6px #1b1f2a66}.gauge-center[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:14px;width:12px;height:12px;background:var(--text);border-radius:50%;transform:translate(-50%);box-shadow:0 0 8px #1b1f2a59}.gauge-label[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:0;transform:translate(-50%);font-weight:700}.gauge-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:12px;color:var(--muted)}.empty[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}.sentiment-loading[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;z-index:80}.sentiment-loading-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#060c12bf}.sentiment-loading-card[_ngcontent-%COMP%]{position:relative;background:linear-gradient(180deg,rgba(255,255,255,.1),transparent 60%),var(--card);border:1px solid var(--border);border-radius:16px;padding:20px 24px;min-width:240px;display:grid;gap:8px;text-align:center;box-shadow:0 20px 44px #020a1099,inset 0 1px #ffffff1f}.spinner[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;border:3px solid rgba(27,31,42,.15);border-top-color:var(--accent);animation:_ngcontent-%COMP%_spin .9s linear infinite;margin:0 auto 4px}.loading-title[_ngcontent-%COMP%]{font-weight:700}.loading-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--muted)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media(max-width:900px){.news-item[_ngcontent-%COMP%]{grid-template-columns:1fr}.sentiment-news[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .sentiment-news[_ngcontent-%COMP%]   .sentiment-pill[_ngcontent-%COMP%]{justify-self:start}}\"]\n      });\n    }\n  }\n  return NetSocialComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}